# Система управления автопарком с веб-интерфейсом и Telegram ботом

Данный проект представляет собой комплексную систему для управления автопарком, включающую веб-интерфейс и Telegram бота.

## Основные функции

- Учет транспортных средств и их параметров
- Отслеживание пробега и технического обслуживания
- Учет ремонтов и заправок
- Мониторинг сроков действия документов (ОСАГО, техосмотр и т.д.)
- Уведомления о предстоящем обслуживании
- Формирование отчетов

## Структура проекта для деплоя

```
deploy_project/
├── app.py                    # Flask приложение (веб-интерфейс)
├── main.py                   # Скрипт запуска Telegram бота
├── telegram_bot.py           # Основной модуль Telegram бота
├── deployment_start.py       # Скрипт для одновременного запуска веб-интерфейса и бота
├── db_init.py                # Инициализация базы данных
├── db_operations.py          # Операции с базой данных
├── config.py                 # Конфигурация приложения
├── stop_existing_bots.py     # Утилита для остановки существующих экземпляров бота
├── token_monitor.py          # Мониторинг токена Telegram бота
├── .env                      # Файл с переменными окружения
├── static/                   # Статические файлы (CSS, JS)
└── templates/                # Шаблоны HTML
```

## Инструкция по деплою

1. Создайте новый проект на платформе Replit
2. Загрузите файлы из этой папки в проект
3. Добавьте секрет `TELEGRAM_BOT_TOKEN` в настройках Replit
4. Обновите настройки деплоя в файле `.replit`, указав команду запуска `python deployment_start.py`
5. Нажмите кнопку "Deploy"

## Переменные окружения

- `TELEGRAM_BOT_TOKEN` - токен Telegram бота (обязательно)
- `SESSION_SECRET` - секретный ключ для сессий Flask (опционально)
- `BOT_DISABLED` - если установлено, бот не будет запущен (опционально)

## Мониторинг и логи

Система создает следующие логи:
- `deployment.log` - журнал запуска и работы сервисов
- `telegram_bot.log` - журнал работы Telegram бота
- `bot_killer.log` - журнал остановки экземпляров бота
- `token_monitor.log` - журнал мониторинга токена

## Запуск в локальной среде

```bash
python deployment_start.py
```

## Демо-версия

Веб-интерфейс: [https://your-project-name.replit.app](https://your-project-name.replit.app)
Telegram бот: [@check_vin_avtobot](https://t.me/check_vin_avtobot)